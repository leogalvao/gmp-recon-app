# GMP Reconciliation App Dependencies
# See DEPENDENCY_AUDIT.md for full analysis
# Last audit: 2026-01-17

# ============================================
# Security-Critical Minimum Versions (REQUIRED)
# ============================================
# These packages are transitive dependencies with known vulnerabilities.
# Pin them explicitly to ensure secure versions are installed.
# Run first: pip install --upgrade pip setuptools wheel

# CVE-2023-50782, CVE-2024-0727, PYSEC-2024-225, GHSA-h4gh-qq45-vh27
cryptography>=43.0.1

# CVE-2024-6345 (RCE), PYSEC-2025-49 (path traversal)
setuptools>=78.1.1

# CVE-2026-21441 (decompression bomb in redirect handling)
urllib3>=2.6.3

# ============================================
# Core Dependencies (Required)
# ============================================

# Web Framework
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
jinja2>=3.1.2

# Data Processing
pandas>=2.0.0
numpy>=1.24.0
openpyxl>=3.1.0  # For Excel file reading

# Machine Learning (Core)
scikit-learn>=1.3.0

# CLI
click>=8.0.0

# Database
sqlalchemy>=2.0.0

# Scheduling
apscheduler>=3.10.0

# String Matching
rapidfuzz>=3.0.0

# Date Handling
python-dateutil>=2.8.0

# Form Data
python-multipart>=0.0.6

# Validation
pydantic>=2.0.0

# Configuration
pyyaml>=6.0.0

# ============================================
# Testing Dependencies
# ============================================
httpx>=0.25.0
pytest>=7.0.0

# ============================================
# Optional: Advanced ML Dependencies
# ============================================
# These are large dependencies (~2.5GB combined) needed only for advanced features.
# Install separately if needed:
#   pip install tensorflow>=2.15.0  # For LSTM/Transformer forecasting (~500MB)
#   pip install torch>=2.0.0        # For MLP model alternative (~2GB)

# LSTM/Transformer forecasting models (app/forecasting/, src/models/, cli.py)
# NOTE: Required for advanced forecasting features. Comment out for ~500MB savings
# if you only need basic reconciliation features.
tensorflow>=2.15.0

# Optional MLP model with PyTorch fallback (app/modules/ml.py)
# Commented out - sklearn LinearRegression is used as fallback when unavailable
# torch>=2.0.0

# ============================================
# REMOVED (unused in codebase)
# ============================================
# mlflow>=2.8.0  # No imports found - removed to reduce bloat
